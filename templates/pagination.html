<div id="pagination">
<nav aria-label="navigation">
  <ul class="pagination-list">
    {% if pages.has_previous %}
    <li class="page-item">
      <a class="page-link" href="?page={{ pages.previous_page_number }}&tag={{ tag }}&query={{ query }}" aria-label="Previous">
        <span aria-hidden="true" class="fas fa-caret-left"></span>
        <span class="sr-only">Previous</span>
      </a>
    </li>
    {% else %}
    <li class="page-item disabled">      
      <a class="page-link" href="#" disabled="true"><span class="fas fa-caret-left"></span></a>
    </li>
    {% endif %}
    {% for this_page in pages_range %}
    {% if pages.number == this_page %}
    <li class="page-item active"><a href="?page={{ this_page }}&tag={{ tag }}&query={{ query }}" class="page-link">{{ this_page }}</a></li>
    {% else %}
    <li class="page-item"><a href="?page={{ this_page }}&tag={{ tag }}&query={{ query }}" class="page-link">{{ this_page }}</a></li>
    {% endif %}
    {% endfor %}
    {% if pages.has_next %}
    <li class="page-item">
      <a class="page-link" href="?page={{ pages.next_page_number }}&tag={{ tag }}&query={{ query }}" aria-label="Next">
        <span aria-hidden="true" class="fas fa-caret-right"></span>
        <span class="sr-only">Next</span>
      </a>
    </li>
    {% else %}
    <li class="page-item disabled">      
      <a class="page-link" href="#" disabled="true"><span class="fas fa-caret-right"></span></a>
    </li>    
    {% endif %}
  </ul>
</nav>
</div>